name: Test
on:
  - push
  - pull_request
  - workflow_dispatch

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          path: repo

      - run: echo "123" >> repo/file.txt

      - uses: EndBug/add-and-commit@ts-only
        with:
          message: 'Test1'
          add: '*.txt -f'
          cwd: repo
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - uses: EndBug/add-and-commit@ts-only
        with:
          message: 'Test2'
          remove: '*.txt -f'
          cwd: repo
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
